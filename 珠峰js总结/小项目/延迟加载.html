<!DOCTYPE html>
<html>
<head>
	<title>延迟加载</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<style type="text/css">
	*{
		padding: 0;
		margin:0;
		font-size: 14px;
		font-family: "微软雅黑";
	}
	img{
		display: none;
		border: none;
	}
	#news{
		padding: 10px;
	}
	#news li{
		padding: 10px 0;
		border-bottom: 1px dashed #ccc;
		position: relative;
	}
	#news li > div:nth-child(1){
		position: absolute;
		background: url(image/timg.gif) no-repeat center center;
		background-size: 100% 100%;
		top: 10px;	
		left:0;
		width: 75px;
		height: 60px;
	}
	
	#news li > div:nth-child(1) img{
		width: 100%;
		height: 100%;	
		/*opacity: 0;*/
	}
	#news li > div:nth-child(2){
		height: 60px;
		margin-left: 80px;
	}
	#news li > div:nth-child(2) h2{
		height: 20px;
		line-height: 20px;
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
	#news li > div:nth-child(2) p{
		line-height: 20px;
		font-size: 12px;
		color: gray;
	}
</style>
</head>

<body>

	<ul id="news">
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
		<li>
			<div>
				<img src="" alt="" trueSrc="image/fc1f4134970a304e342b0b22d6c8a786c8175cd8.jpg">
			</div>
			<div>
				<h2>
					新浪资讯台
				</h2>
				<p>
					阿富汗洲际酒店遭袭黑烟笼罩 住客床单攀爬逃生
				</p>
			</div>
		</li>
	</ul>
	

	<script type="text/javascript" src="js/utils.js"></script>
	<script type="text/javascript">
		var news=document.getElementById('news');
		var imgs=news.getElementsByTagName('img');

		

		//加载图片
		function lazyImg(curImg) {
			var oImg = new Image;
			var trueSrc=curImg.getAttribute('trueSrc');
			oImg.src=trueSrc;


			oImg.onload=function(){
				curImg.style.display="block";
				curImg.src=trueSrc;
				// fadeIn(curImg);
				oImg=null;
			}
			curImg.isload=true;
		}


		function All(){

			for (var i =0;i<imgs.length;i++){
				var curimg=imgs[i];
				var A=utils.offset(curimg).top+curimg.parentNode.offsetHeight;
				var B=utils.win('clientHeight')+utils.win('scrollTop');

				if(curimg.isload==true){
					continue;
				}
				if(A<B){
						lazyImg(curimg);
				}

			}
		}

		function fadeIn(curimg){
			var duration=500,interval=10,target=1;
			var step=(target/duration)*interval;

			var timer=window.setInterval(function(){
				
				var curOp=utils.getCss(curimg,'opacity');

				if(curOp>=1){
					curimg.style.opacity=1;
					window.clearInterval(timer);
					return;
				}
				curOp+=step;
				curimg.style.opacity=curOp;

			},interval);

		}
		
		var timer=window.setTimeout	(All,500)

		window.onscroll=All;

		
	</script>
</body>
</html>